//========================================
// API TESTING CHO THIáº¾T Bá»Š ESP32
//========================================

### ğŸ“¡ ÄÄƒng kÃ½ thiáº¿t bá»‹ ESP32 má»›i
POST http://127.0.0.1:5000/api/device/register
Content-Type: application/json

{
  "mac_address": "00:1A:2B:3C:4D:5A"
}

### ğŸ”‘ XÃ¡c thá»±c thiáº¿t bá»‹ ESP32 vÃ  láº¥y token
POST http://127.0.0.1:5000/api/device/authenticate
Content-Type: application/json

{
  "mac_address": "94:54:C5:E9:1C:B4"
}

### ğŸ”„ LÆ°u token thiáº¿t bá»‹ nháº­n Ä‘Æ°á»£c (thay tháº¿ giÃ¡ trá»‹ sau khi xÃ¡c thá»±c)
@device_token = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJmcmVzaCI6ZmFsc2UsImlhdCI6MTc0NTgwNzMzOCwianRpIjoiYmQ1YThjODUtZmVkZC00YmQ3LThiYjAtYjZkNDQyMWI4YTEyIiwidHlwZSI6ImFjY2VzcyIsInN1YiI6IjY6OTQ6NTQ6QzU6RTk6MUM6QjQiLCJuYmYiOjE3NDU4MDczMzgsImV4cCI6MTc0ODM5OTMzOH0.OwOEqDvbYQbiOiTd38S0QaJntcm6xGVwkVrtyif5K90

### ğŸ“† Láº¥y lá»‹ch chuÃ´ng hÃ´m nay cho thiáº¿t bá»‹
GET http://127.0.0.1:5000/api/device/schedule/today
Authorization: Bearer {{device_token}}

### ğŸ« Kiá»ƒm tra hÃ´m nay cÃ³ pháº£i ngÃ y nghá»‰ khÃ´ng
GET http://127.0.0.1:5000/api/schedule-helper/is_holiday?device_id=1

### ğŸ“¡ Kiá»ƒm tra tráº¡ng thÃ¡i káº¿t ná»‘i thiáº¿t bá»‹ (heartbeat)
POST http://127.0.0.1:5000/api/device/heartbeat
Content-Type: application/json
Authorization: Bearer {{device_token}}

{
  "status": "online",
  "temperature": 30.5,
  "humidity": 65.2
}

### ğŸ”„ Thiáº¿t láº­p láº¡i thiáº¿t bá»‹ (reset)
POST http://127.0.0.1:5000/api/device/reset
Content-Type: application/json
Authorization: Bearer {{device_token}}

{
  "reason": "test_restart"
}

### ğŸ“ ThÃªm má»™t Ä‘iá»ƒm thá»i gian má»›i vÃ o lá»‹ch (Admin)
POST http://127.0.0.1:5000/api/schedule
Content-Type: application/json
Authorization: Bearer {{admin_token}}

{
  "school_id": 1,
  "time_point": "07:00",
  "day_of_week": 1,
  "bell_type": "vÃ o há»c",
  "is_summer": false
}

### ğŸ“ ThÃªm Ä‘iá»ƒm tiáº¿t há»c
POST http://127.0.0.1:5000/api/schedule
Content-Type: application/json
Authorization: Bearer {{admin_token}}

{
  "school_id": 1,
  "time_point": "07:45",
  "day_of_week": 1,
  "bell_type": "Ä‘iá»ƒm tiáº¿t",
  "is_summer": false
}

### ğŸ“ ThÃªm giá» ra chÆ¡i
POST http://127.0.0.1:5000/api/schedule
Content-Type: application/json
Authorization: Bearer {{admin_token}}

{
  "school_id": 1,
  "time_point": "09:15",
  "day_of_week": 1,
  "bell_type": "ra chÆ¡i",
  "is_summer": false
}

### ğŸ“ ThÃªm giá» ra vá»
POST http://127.0.0.1:5000/api/schedule
Content-Type: application/json
Authorization: Bearer {{admin_token}}

{
  "school_id": 1,
  "time_point": "11:30",
  "day_of_week": 1,
  "bell_type": "ra vá»",
  "is_summer": false
}

### ğŸ“‹ Láº¥y táº¥t cáº£ cÃ¡c Ä‘iá»ƒm thá»i gian trong lá»‹ch cá»§a má»™t trÆ°á»ng
GET http://127.0.0.1:5000/api/schedule?school_id=1
Authorization: Bearer {{admin_token}}

### âœï¸ Cáº­p nháº­t má»™t Ä‘iá»ƒm thá»i gian trong lá»‹ch
PUT http://127.0.0.1:5000/api/schedule/1
Content-Type: application/json
Authorization: Bearer {{admin_token}}

{
  "time_point": "07:15",
  "bell_type": "vÃ o há»c"
}

### ğŸ—‘ï¸ XÃ³a má»™t Ä‘iá»ƒm thá»i gian trong lá»‹ch
DELETE http://127.0.0.1:5000/api/schedule/1
Authorization: Bearer {{admin_token}}