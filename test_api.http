@admin_token = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJmcmVzaCI6ZmFsc2UsImlhdCI6MTc0NTYzOTE1OSwianRpIjoiMTc1MzdjYmEtMGNiYS00OGM4LWFkMDYtYmI0NDNjNzg2OWUwIiwidHlwZSI6ImFjY2VzcyIsInN1YiI6IjEiLCJuYmYiOjE3NDU2MzkxNTksImV4cCI6MTc0NTY0NjM1OX0.5S8yBKmGI-i818U6IhoDGtxP3c4mv54s4mQsSFl7KAY
@school_token = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJmcmVzaCI6ZmFsc2UsImlhdCI6MTc0NTYzOTE3OSwianRpIjoiYjhhYjdjMmUtNWU0Ny00ZTc2LTliZTEtYzc4Y2I2ZTRkYmY3IiwidHlwZSI6ImFjY2VzcyIsInN1YiI6IjIiLCJuYmYiOjE3NDU2MzkxNzksImV4cCI6MTc0NTY0NjM3OX0.n6d4jPCGAXe7bJn-zHJ-vE8yHoY_ZQNJtnFxqv6h3t4

### üîê Login admin
POST http://127.0.0.1:5000/api/auth/login
Content-Type: application/json

{
  "username": "admin",
  "password": "123"
}

###

### üîê Login school user
POST http://127.0.0.1:5000/api/auth/login
Content-Type: application/json

{
  "username": "ad1",
  "password": "123"
}

###

### üë§ L·∫•y th√¥ng tin ng∆∞·ªùi d√πng //ok
GET http://127.0.0.1:5000/api/user/me
Authorization: Bearer {{school_token}}

###

### üè´ L·∫•y danh s√°ch tr∆∞·ªùng h·ªçc //ok
GET http://127.0.0.1:5000/api/school/
Authorization: Bearer {{admin_token}}

###

### üìü T·∫°o thi·∫øt b·ªã m·ªõi // ƒë√£ ok
POST http://127.0.0.1:5000/api/device/create
Content-Type: application/json
Authorization: Bearer {{admin_token}}

{
  "name": "ESP32-KhuA",
  "ip_address": "192.168.1.3",
  "mac_address": "00:1A:2B:3C:4D:5A",
  "school_id": 4,
  "user_id": 4
}

###

### üìü L·∫•y th√¥ng tin chi ti·∫øt thi·∫øt b·ªã
GET http://127.0.0.1:5000/api/device/1
Authorization: Bearer {{admin_token}}

###

### üìü Danh s√°ch thi·∫øt b·ªã ch∆∞a ƒë∆∞·ª£c g√°n
GET http://127.0.0.1:5000/api/device/unassigned
Authorization: Bearer {{admin_token}}

###

### üìü G√°n thi·∫øt b·ªã cho tr∆∞·ªùng v√† ng∆∞·ªùi d√πng
POST http://127.0.0.1:5000/api/device/assign
Content-Type: application/json
Authorization: Bearer {{admin_token}}

{
  "device_id": 1,
  "name": "ESP32-KhuA-Updated",
  "school_id": 2,
  "user_id": 2,
  "active": true
}

###

### üìü C·∫≠p nh·∫≠t th√¥ng tin thi·∫øt b·ªã
POST http://127.0.0.1:5000/api/device/update
Content-Type: application/json
Authorization: Bearer {{admin_token}}

{
  "device_id": 1,
  "name": "ESP32-KhuA-New",
  "active": true
}

###

### üìü Danh s√°ch thi·∫øt b·ªã //ok
GET http://127.0.0.1:5000/api/device/list
Authorization: Bearer {{admin_token}}

###

### üï∞Ô∏è Danh s√°ch l·ªãch chu√¥ng //ok
GET http://127.0.0.1:5000/api/schedule/
Authorization: Bearer {{school_token}}

###

### ‚ûï T·∫°o l·ªãch chu√¥ng //ok
POST http://127.0.0.1:5000/api/schedule/
Content-Type: application/json
Authorization: Bearer {{school_token}}

{
  "day_of_week": 2,
  "start_time": "10:00",
  "end_time": "10:15",
  "bell_type": "Ra ch∆°i",
  "is_summer": false
}

###

### üìù S·ª≠a l·ªãch chu√¥ng //ok 
PUT http://127.0.0.1:5000/api/schedule/2
Content-Type: application/json
Authorization: Bearer {{school_token}}

{
  "day_of_week": 1,
  "start_time": "10:20",
  "end_time": "10:35",
  "bell_type": "ƒêi·ªÉm ti·∫øt",
  "is_summer": false
}

###

### ‚ùå Xo√° l·ªãch chu√¥ng //ok 
DELETE http://127.0.0.1:5000/api/schedule/36
Authorization: Bearer {{school_token}}

###

### üìÖ T·∫°o ng√†y ngh·ªâ //t·∫°m ok 
POST http://127.0.0.1:5000/api/holiday/
Content-Type: application/json
Authorization: Bearer {{admin_token}}

{
  "name": "Ngh·ªâ 24",
  "start_date": "2028-06-30",
  "end_date": "2028-07-03"
}

###

### üìÖ L·∫•y Danh s√°ch ng√†y ngh·ªâ //ok
GET http://127.0.0.1:5000/api/holiday/
Authorization: Bearer {{admin_token}}

###

### üìÖ C·∫≠p nh·∫≠t ng√†y ngh·ªâ //ch∆∞a xem
PUT http://127.0.0.1:5000/api/holiday/1
Content-Type: application/json
Authorization: Bearer {{admin_token}}

{
  "name": "Ngh·ªâ 24",
  "start_date": "2028-06-30",
  "end_date": "2028-07-03"
}

###

### ‚ùå Xo√° ng√†y ngh·ªâ
DELETE http://127.0.0.1:5000/api/holiday/1
Authorization: Bearer {{admin_token}}

###

### üå¶Ô∏è L·∫•y c·∫•u h√¨nh m√πa h√® admin //
GET http://127.0.0.1:5000/api/season/config?school_id=1
Authorization: Bearer {{admin_token}}

### üå¶Ô∏è L·∫•y c·∫•u h√¨nh m√πa h√® tr∆∞·ªùng
GET http://127.0.0.1:5000/api/season/config?school_id=1
Authorization: Bearer {{school_token}}

###

### üõ†Ô∏è T·∫°o c·∫•u h√¨nh m√πa h√®
PUT  http://127.0.0.1:5000/api/season/config/?school_id=1
Content-Type: application/json
Authorization: Bearer {{admin_token}}

{
  "school_id": 1,
  "summer_start": "2025-06-01",
  "summer_end": "2025-09-30"
}

###

### üïµÔ∏è‚Äç‚ôÇÔ∏è Check h√¥m nay c√≥ ph·∫£i ng√†y ngh·ªâ kh√¥ng?
GET http://127.0.0.1:5000/api/schedule-helper/is_holiday?device_id=2
Authorization: Bearer {{school_token}}

###

### üìÜ L·∫•y l·ªãch h√¥m nay
GET http://127.0.0.1:5000/api/schedule-helper/today
Authorization: Bearer {{school_token}}

###

### üìä Th·ªëng k√™ h·ªá th·ªëng (admin)
GET http://127.0.0.1:5000/api/admin/stats
Authorization: Bearer {{admin_token}}
