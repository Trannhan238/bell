@admin_token = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJmcmVzaCI6ZmFsc2UsImlhdCI6MTc0NTc2MjI4NywianRpIjoiODE4YjFhMzItMWFhZi00MWQzLWE4OGMtMmNjYTRjZWE3NDllIiwidHlwZSI6ImFjY2VzcyIsInN1YiI6IjEiLCJuYmYiOjE3NDU3NjIyODcsImV4cCI6MTc0NTc2OTQ4N30.NT8y7w98IvPlT0e0sbiXnzQMGzsKYn82PgRfi3ItH8I
@school_token = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJmcmVzaCI6ZmFsc2UsImlhdCI6MTc0NTc2MjMwMywianRpIjoiZjA0ZmZkZmMtYmYyZC00NGNhLTk4MGEtNTVjNmY2NTRlZmViIiwidHlwZSI6ImFjY2VzcyIsInN1YiI6IjIiLCJuYmYiOjE3NDU3NjIzMDMsImV4cCI6MTc0NTc2OTUwM30.MsIPzcjgoE-Q3Xa5UCX3lKxUSmQRroamrxc4emb2LZU

//========================================
// XÃC THá»°C NGÆ¯á»œI DÃ™NG
//========================================

### ğŸ” Login admin
POST http://127.0.0.1:5000/api/auth/login
Content-Type: application/json

{
  "username": "admin",
  "password": "123"
}

### ğŸ” Login school user/admin
POST http://127.0.0.1:5000/api/auth/login
Content-Type: application/json

{
  "username": "ad1",
  "password": "123"
}

### ğŸ‘¤ Láº¥y thÃ´ng tin ngÆ°á»i dÃ¹ng hiá»‡n táº¡i
GET http://127.0.0.1:5000/api/user/me
Authorization: Bearer {{school_token}}

### ğŸ‘¤ Debug thÃ´ng tin ngÆ°á»i dÃ¹ng (role kiá»ƒm tra)
GET http://127.0.0.1:5000/api/schedule/debug-user
Authorization: Bearer {{school_token}}

//========================================
// QUáº¢N LÃ TRÆ¯á»œNG Há»ŒC
//========================================

### ğŸ« Láº¥y danh sÃ¡ch táº¥t cáº£ trÆ°á»ng há»c (admin)
GET http://127.0.0.1:5000/api/school/
Authorization: Bearer {{admin_token}}

//========================================
// QUáº¢N LÃ THIáº¾T Bá»Š
//========================================

### ğŸ“Ÿ Táº¡o thiáº¿t bá»‹ má»›i (admin)
POST http://127.0.0.1:5000/api/device/create
Content-Type: application/json
Authorization: Bearer {{admin_token}}

{
  "name": "ESP32-KhuA",
  "ip_address": "192.168.1.3",
  "mac_address": "00:1A:2B:3C:4D:5A",
  "school_id": 4,
  "active": true,
  "user_id": 4
}

### ğŸ“Ÿ ÄÄƒng kÃ½ thiáº¿t bá»‹ (public API)
POST http://127.0.0.1:5000/api/device/register
Content-Type: application/json

{
  "mac_address": "00:1A:2B:3C:4D:5B",
  "school_id": 1
}

### ğŸ“Ÿ XÃ¡c thá»±c thiáº¿t bá»‹ (public API)
POST http://127.0.0.1:5000/api/device/authenticate
Content-Type: application/json

{
  "mac_address": "00:1A:2B:3C:4D:5B"
}

### ğŸ“Ÿ Láº¥y thÃ´ng tin chi tiáº¿t thiáº¿t bá»‹ (admin)
GET http://127.0.0.1:5000/api/device/
Authorization: Bearer {{admin_token}}

### ğŸ“Ÿ Danh sÃ¡ch thiáº¿t bá»‹ (admin)
GET http://127.0.0.1:5000/api/device/list
Authorization: Bearer {{admin_token}}

### ğŸ“Ÿ Danh sÃ¡ch thiáº¿t bá»‹ chÆ°a Ä‘Æ°á»£c gÃ¡n (admin)
GET http://127.0.0.1:5000/api/device/unassigned
Authorization: Bearer {{admin_token}}

### ğŸ“Ÿ GÃ¡n thiáº¿t bá»‹ cho trÆ°á»ng vÃ  ngÆ°á»i dÃ¹ng (admin)
POST http://127.0.0.1:5000/api/device/assign
Content-Type: application/json
Authorization: Bearer {{admin_token}}

{
  "device_id": 2,
  "name": "ESP32-KhuA-Updated",
  "school_id": 3,
  "user_id": 3,
  "active": true
}

### ğŸ“Ÿ Cáº­p nháº­t thÃ´ng tin thiáº¿t bá»‹ (admin)
POST http://127.0.0.1:5000/api/device/update
Content-Type: application/json
Authorization: Bearer {{admin_token}}

{
  "device_id": 1,
  "name": "ESP32-KhuA-New",
  "active": true
}

//========================================
// QUáº¢N LÃ Lá»ŠCH CHUÃ”NG
//========================================

### ğŸ•°ï¸ Danh sÃ¡ch lá»‹ch chuÃ´ng (school hoáº·c admin)
GET http://127.0.0.1:5000/api/schedule/
Authorization: Bearer {{school_token}}

### ğŸ•°ï¸ Láº¥y lá»‹ch chuÃ´ng theo ID
GET http://127.0.0.1:5000/api/schedule/1
Authorization: Bearer {{school_token}}

### â• Táº¡o lá»‹ch chuÃ´ng (school)
POST http://127.0.0.1:5000/api/schedule/
Content-Type: application/json
Authorization: Bearer {{school_token}}

{
  "day_of_week": 2,
  "start_time": "01:00",
  "end_time": "01:15",
  "bell_type": "Ra chÆ¡i",
  "is_summer": false
}

### â• Táº¡o lá»‹ch chuÃ´ng (admin)
POST http://127.0.0.1:5000/api/schedule/
Content-Type: application/json
Authorization: Bearer {{admin_token}}

{
  "day_of_week": 2,
  "start_time": "01:00",
  "end_time": "01:15",
  "bell_type": "Ra chÆ¡i",
  "is_summer": false,
  "school_id": 2
}

### ğŸ“ Cáº­p nháº­t lá»‹ch chuÃ´ng (school)
PUT http://127.0.0.1:5000/api/schedule/1
Content-Type: application/json
Authorization: Bearer {{school_token}}

{
  "day_of_week": 1,
  "start_time": "10:20",
  "end_time": "10:35",
  "bell_type": "Äiá»ƒm tiáº¿t",
  "is_summer": false
}

### ğŸ“ Cáº­p nháº­t lá»‹ch chuÃ´ng (admin)
PUT http://127.0.0.1:5000/api/schedule/1
Content-Type: application/json
Authorization: Bearer {{admin_token}}

{
  "day_of_week": 1,
  "start_time": "10:20",
  "end_time": "10:35",
  "bell_type": "Äiá»ƒm tiáº¿t",
  "is_summer": false,
  "school_id": 2
}

### âŒ XoÃ¡ lá»‹ch chuÃ´ng (school)
DELETE http://127.0.0.1:5000/api/schedule/2
Authorization: Bearer {{school_token}}

### âŒ XoÃ¡ lá»‹ch chuÃ´ng (admin)
DELETE http://127.0.0.1:5000/api/schedule/1
Authorization: Bearer {{admin_token}}

//========================================
// QUáº¢N LÃ NGÃ€Y NGHá»ˆ
//========================================

### ğŸ“… Láº¥y danh sÃ¡ch ngÃ y nghá»‰ (máº·c Ä‘á»‹nh theo trÆ°á»ng cá»§a user)
GET http://127.0.0.1:5000/api/holiday/
Authorization: Bearer {{school_token}}

### ğŸ“… Láº¥y danh sÃ¡ch ngÃ y nghá»‰ theo trÆ°á»ng cá»¥ thá»ƒ (admin)
GET http://127.0.0.1:5000/api/holiday/?school_id=1
Authorization: Bearer {{admin_token}}

### ğŸ“… Láº¥y táº¥t cáº£ ngÃ y nghá»‰ cá»§a táº¥t cáº£ trÆ°á»ng (admin)
GET http://127.0.0.1:5000/api/holiday/all
Authorization: Bearer {{admin_token}}

### ğŸ“… Láº¥y chi tiáº¿t má»™t ngÃ y nghá»‰
GET http://127.0.0.1:5000/api/holiday/1
Authorization: Bearer {{admin_token}}

### ğŸ“… Táº¡o ngÃ y nghá»‰ (admin)
POST http://127.0.0.1:5000/api/holiday/
Content-Type: application/json
Authorization: Bearer {{admin_token}}

{
  "name": "Nghá»‰ lá»… 30/4",
  "start_date": "2025-04-30",
  "end_date": "2025-05-01",
  "school_id": 1
}

### ğŸ“… Cáº­p nháº­t ngÃ y nghá»‰ (admin)
PUT http://127.0.0.1:5000/api/holiday/1
Content-Type: application/json
Authorization: Bearer {{admin_token}}

{
  "name": "Nghá»‰ lá»… 30/4 vÃ  1/5",
  "start_date": "2025-04-30",
  "end_date": "2025-05-01"
}

### âŒ XoÃ¡ ngÃ y nghá»‰ (admin)
DELETE http://127.0.0.1:5000/api/holiday/1
Authorization: Bearer {{admin_token}}

### ğŸ“… Kiá»ƒm tra má»™t ngÃ y cÃ³ pháº£i lÃ  ngÃ y nghá»‰ khÃ´ng
GET http://127.0.0.1:5000/api/holiday/check?date=2025-05-01
Authorization: Bearer {{school_token}}

### ğŸ“… Táº¡o ngÃ y nghá»‰: Táº¿t NguyÃªn ÄÃ¡n (admin)
POST http://127.0.0.1:5000/api/holiday/
Content-Type: application/json
Authorization: Bearer {{admin_token}}

{
  "name": "Táº¿t NguyÃªn ÄÃ¡n",
  "start_date": "2025-01-23",
  "end_date": "2025-01-29",
  "school_id": 1
}

### ğŸ“… Táº¡o ngÃ y nghá»‰: Giá»— Tá»• HÃ¹ng VÆ°Æ¡ng (admin)
POST http://127.0.0.1:5000/api/holiday/
Content-Type: application/json
Authorization: Bearer {{admin_token}}

{
  "name": "Giá»— Tá»• HÃ¹ng VÆ°Æ¡ng",
  "start_date": "2025-04-10",
  "end_date": "2025-04-10",
  "school_id": 1
}

### ğŸ“… Äá»“ng bá»™ ngÃ y nghá»‰ vá»›i lá»‹ch quá»‘c gia (admin)
GET http://127.0.0.1:5000/api/holiday/sync?year=2025
Authorization: Bearer {{admin_token}}

//========================================
// QUáº¢N LÃ Cáº¤U HÃŒNH MÃ™A HÃˆ
//========================================


### ğŸ› ï¸ Táº¡o cáº¥u hÃ¬nh mÃ¹a hÃ¨ (admin)
POST http://127.0.0.1:5000/api/season/config
Content-Type: application/json
Authorization: Bearer {{admin_token}}

{
  "school_id": 1,
  "summer_start": "2025-06-01",
  "summer_end": "2025-09-30"
}

### ğŸ› ï¸ Cáº­p nháº­t cáº¥u hÃ¬nh mÃ¹a hÃ¨ (admin)
PUT http://127.0.0.1:5000/api/season/config
Content-Type: application/json
Authorization: Bearer {{admin_token}}

{
  "school_id": 1,
  "summer_start": "2025-06-01",
  "summer_end": "2025-09-30"
}

### ğŸ—‘ï¸ XoÃ¡ cáº¥u hÃ¬nh mÃ¹a hÃ¨ (admin)
DELETE http://127.0.0.1:5000/api/season/1
Authorization: Bearer {{admin_token}}

//========================================
// API TIá»†N ÃCH CHO THIáº¾T Bá»Š
//========================================

### ğŸ•µï¸â€â™‚ï¸ Kiá»ƒm tra hÃ´m nay cÃ³ pháº£i ngÃ y nghá»‰ khÃ´ng? (theo thiáº¿t bá»‹)
GET http://127.0.0.1:5000/api/schedule-helper/is_holiday?device_id=1
Authorization: Bearer {{school_token}}

### ğŸ“† Láº¥y lá»‹ch chuÃ´ng hÃ´m nay
GET http://127.0.0.1:5000/api/schedule-helper/today
Authorization: Bearer {{school_token}}

### ğŸ“† Láº¥y lá»‹ch chuÃ´ng hÃ´m nay (Ä‘Æ°á»ng dáº«n thay tháº¿)
GET http://127.0.0.1:5000/api/schedule-helper/schedule/today
Authorization: Bearer {{school_token}}

//========================================
// API THá»NG KÃŠ Há»† THá»NG
//========================================

### ğŸ“Š Thá»‘ng kÃª há»‡ thá»‘ng (admin)
GET http://127.0.0.1:5000/api/admin/stats
Authorization: Bearer {{admin_token}}